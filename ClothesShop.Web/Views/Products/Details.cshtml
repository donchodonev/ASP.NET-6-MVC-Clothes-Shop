@model ProductDetailsViewModel;

<div class="row text-center">
    <div class="container col-md-6 col-sm-12 mt-3">
        <img src=@Model.ImageURL class="card-img-top img-lg shadow">
    </div>

    <div class="col-md-6 col-sm-12 mt-3">
        <h3>@Model.Name</h3>
        <p class="mt-5 mb-5">@Model.Description</p>

        <div class="row input-group mt-5 mb-5 text-center">
            <h4 class="col-6">Brand</h4>
            <p class="col-6 text-center form-control border-2 rounded text" style="border-color:lightblue;font-weight:bold">@Model.Manufacturer</p>
        </div>

        <div class="row input-group mt-5 mb-5 text-center">
            <h4 class="col-6">Choose a size</h4>
            <select asp-for=SizeId asp-items=@Model.Sizes class="col-6 text-center form-control border-2 rounded" style="border-color:green;">
            </select>
        </div>

        <div class="row input-group mt-5 mb-5 text-center">
            <h4 class="col-6">Quantity</h4>
            <input id="productQuantity" asp-for=Quantity type="number" class="col-6 text-center form-control border-2 rounded" style="border-color:green;" placeholder=0 />
        </div>

        <div class="row input-group mt-5 mb-5 text-center">
            <h4 class="col-6">Price per unit</h4>
            <p id='pricePerOneUnit' class="col-6 text-center form-control border-2 rounded text" style="border-color:lightblue;font-weight:bold">$@Model.Price.ToString("F2")</p>
        </div>

        <div class="row input-group mt-5 mb-5 text-center">
            <h4 class="col-6">Total</h4>
            <p id="totalPrice" class="col-6 text-center form-control border-2 rounded text" style="border-color:lightblue;font-weight:bold">$0.00</p>
        </div>
        <div class="row"></div>
        <div>
            <button type="submit" class="shadow btn-lg btn-primary">Add to cart</button>
        </div>

        <div class="mt-3 p-4 alert-sm alert-success text-center">
            This is a success alert—check it out!
        </div>
    </div>
</div>

@section Scripts{
<script type="text/javascript">

document.getElementById('productQuantity').addEventListener('input', (event) => {
    let price = document.getElementById('pricePerOneUnit').textContent.slice(1);
    let quantity = document.getElementById('productQuantity').value;
    let totalPrice = price * quantity;
    document.getElementById('totalPrice').textContent = `$${totalPrice.toFixed(2)}`;
});

</script>
}

